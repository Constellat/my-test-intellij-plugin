<!-- Copyright 2000-2023 JetBrains s.r.o. and other contributors. Use of this source code is governed by the Apache 2.0 license that can be found in the LICENSE file. -->
<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->

<idea-plugin>

  <!-- 该插件的唯一 ID。 在插件的生命周期内必须保持不变。 -->
  <id>org.intellij.sdk.action</id>

  <!-- 在“设置”|插件 上显示为名称 -->
  <name>SDK: Action Sample</name>

  <!-- 表示该插件可以加载到所有基于IntelliJ平台的产品中。 -->
  <depends>com.intellij.modules.platform</depends>

  <!-- 显示为 设置|插件 页面描述的文本 -->
  <description>
    <![CDATA[
      Demonstrates implementing Action and Action Group patterns.<br> Adds entries to the Tools menu.
    ]]>
  </description>
  <change-notes>
    <![CDATA[
      <ul>
        <li><b>2.0.0</b> Renamed from register_actions and converted to Gradle project.</li>
        <li><b>1.1</b> Refactor to give users feedback when selecting menu items.</li>
        <li><b>1.0</b> Release 2018.3 and earlier.</li>
      </ul>
    ]]>
  </change-notes>

  <!-- 在“设置”|插件 页面上显示为公司信息的文本 -->
  <vendor url="https://plugins.jetbrains.com">IntelliJ Platform SDK</vendor>

  <!-- 声明本地化菜单字符串的默认资源位置 -->
  <resource-bundle>messages.BasicActionsBundle</resource-bundle>

  <actions>
    <!--
      See https://plugins.jetbrains.com/docs/intellij/basic-action-system.html#registering-actions
      for information about the elements and attributes used for actions and groups.

      This <action> element adds a static menu item in first position of the Tools menu that shows PopupDialogAction.
      Note this element has no text or description attributes because translations for them are given
      by action-id in the resource-bundle.
      An <override-text> element is also used for demonstration purposes to show alternate text and description strings
      for this action's entries in the MainMenu. (Which includes the ToolsMenu. Try commenting out the override-text
      element and see how the menu text changes.) The alternate text and description attributes do not
      appear here because they are defined by action-id in the resource-bundle.
    -->
    <!--  注册一个ActionListener 监听ctrl+alt+H的keymap 执行PopupDialogAction 继承自AnAction  -->
    <!-- 同时在Tool菜单创建一个按钮 在第一个位置 名字叫“Pop Dialog Action123” -->
    <action id="org.intellij.sdk.action.PopupDialogAction" class="org.intellij.sdk.action.PopupDialogAction"
            text="Action Basics Plugin: Pop Dialog Action" description="SDK action example"
            icon="SdkIcons.Sdk_default_icon">
      <add-to-group group-id="ToolsMenu" anchor="first"/>
      <override-text place="MainMenu" text="Pop Dialog Action123"/>
      <keyboard-shortcut first-keystroke="control alt H" keymap="$default"/>
      <mouse-shortcut keystroke="control button3 doubleClick" keymap="$default"/>
    </action>
    <!--
      All of the following menu groups add the action PopupDialogAction to menus in different ways.
      Note that even though these groups reuse the same action class, in each use the action ids are unique.

      GroupedActions demonstrates declaring an action group using the default ActionGroup implementation provided by the
      IntelliJ Platform framework. (Note the lack of a group "class" attribute.) GroupedActions gets inserted after
      PopupDialogAction in the Tools menu. Because the group's implementation is default, it cannot impose
      enable/disable conditions. Instead it must rely on the conditions imposed by the parent menu where it is inserted.
      It declares one action in the group.
    -->
    <!-- 在菜单的工具页中添加一个group group表示包含二级菜单 名字叫“Static Grouped Actions123” -->
    <!-- 相对位置在 org.intellij.sdk.action.PopupDialogAction 的后面 -->
    <!-- 包含一个Action 与上面的Action同类 但不是一个对象，id不同 也属于PopupDialogAction类 -->
    <group id="org.intellij.sdk.action.GroupedActions"
           text="Static Grouped Actions" description="SDK statically grouped action example"
           popup="true" icon="SdkIcons.Sdk_default_icon">
      <override-text place="MainMenu" text="Static Grouped Actions123"/>
      <add-to-group group-id="ToolsMenu" anchor="after" relative-to-action="org.intellij.sdk.action.PopupDialogAction"/>
      <action id="org.intellij.sdk.action.GroupPopDialogAction" class="org.intellij.sdk.action.PopupDialogAction"
              text="A Group Action" description="SDK static grouped action example"
              icon="SdkIcons.Sdk_default_icon">
      </action>
    </group>
    <!--
      CustomDefaultActionGroup demonstrates declaring an action group based on a ActionGroup class supplied by this
      plugin. This group is to be inserted atop the Editor Popup Menu. It declares one action in the group.
      The group and action implementations are internationalized, so their declarations do not use the text or
      description attributes. Instead, the information is defined in the BasicActionsBundle.
    -->
    <!-- 在选中文本后的右击的编辑菜单页中添加一个group group表示包含二级菜单 名字叫“Custom Default Action Group123” -->
    <!-- 上面的命名可能被覆盖 resources/messages/BasicActionsBundle.properties 中 group.org.intellij.sdk.action.CustomDefaultActionGroup.text=xxx -->
    <!-- 包含一个Action 与上面的Action同类 但不是一个对象，id不同 也属于PopupDialogAction类 -->
    <group id="org.intellij.sdk.action.CustomDefaultActionGroup"
           class="org.intellij.sdk.action.CustomDefaultActionGroup"
           text="Custom Default Action Group" icon="SdkIcons.Sdk_default_icon"
           popup="true">
      <add-to-group group-id="EditorPopupMenu" anchor="first"/>
      <override-text place="MainMenu" text="Custom Default Action Group123"/>
      <action id="org.intellij.sdk.action.CustomGroupedAction" class="org.intellij.sdk.action.PopupDialogAction"
              icon="SdkIcons.Sdk_default_icon"/>
    </group>
    <!--
      DynamicActionGroup demonstrates declaring an action group without a static action declaration.
      An action is added to the group programmatically in the DynamicActionGroup implementation.
    -->
    <!-- 在菜单的工具页中添加一个group group表示包含二级菜单 名字叫“Dynamically Grouped Actions123” -->
    <!-- 相对位置在 org.intellij.sdk.action.GroupedActions 的后面 -->
    <!-- 对应的一个Group类是DynamicActionGroup 继承自ActionGroup 内部实现一个二级菜单 包含一个PopupDialogAction对象 -->
    <group id="org.intellij.sdk.action.DynamicActionGroup" class="org.intellij.sdk.action.DynamicActionGroup"
           popup="true" text="Dynamically Grouped Actions123" description="SDK dynamically grouped action example"
           icon="SdkIcons.Sdk_default_icon">
      <add-to-group group-id="ToolsMenu" anchor="after" relative-to-action="org.intellij.sdk.action.GroupedActions"/>
    </group>
  </actions>

</idea-plugin>
